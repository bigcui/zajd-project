var define,require,esl;window.BoxJS={},function(e){var t={},i=1,o=2,r=3,n=4,a={};function s(e){B(e,n)||(a[e]=1)}var u,d={require:l,exports:1,module:1},c=U(),b={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};function l(e,t){var i=[];function o(e){0===e.indexOf(".")&&i.push(e)}if("string"==typeof e?o(e):z(e,function(e){o(e)}),i.length>0)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+i.join(", "));var r=b.waitSeconds;return r&&e instanceof Array&&(u&&clearTimeout(u),u=setTimeout(p,1e3*r)),c(e,t)}function p(){var e=[],i=[],o={},s={},u={};function d(a,c){if(!u[a]&&!B(a,n)){u[a]=1;var b=t[a];b?(c||!B(a,r)||b.hang)&&(o[a]||(o[a]=1,e.push(a)),z(b.depMs,function(e){d(e.absId,e.hard)})):s[a]||(s[a]=1,i.push(a))}}for(var c in a)d(c,1);if(e.length||i.length)throw new Error("[MODULE_TIMEOUT]Hang("+(e.join(", ")||"none")+") Miss("+(i.join(", ")||"none")+")")}l.version="2.1.6",l.loader="esl",l.toUrl=c.toUrl;var f=[];function x(e){z(f,function(t){m(e,t.deps,t.factory)}),f.length=0}function h(e,t,i){if(null==i&&(null==t?(i=e,e=null):(i=t,t=null,e instanceof Array&&(t=e,e=null))),null!=i){var o=window.opera;if(!e&&document.attachEvent&&(!o||"[object Opera]"!==o.toString())){var r=function(){{if(T)return T;if(E&&"interactive"===E.readyState)return E}var e=document.getElementsByTagName("script"),t=e.length;for(;t--;){var i=e[t];if("interactive"===i.readyState)return E=i,i}}();e=r&&r.getAttribute("data-require-id")}e?m(e,t,i):f[0]={deps:t,factory:i}}}function v(){var e=b.config[this.id];return e&&"object"==typeof e?e:{}}function m(e,o,r){t[e]||(t[e]={id:e,depsDec:o,deps:o||["require","exports","module"],factoryDeps:[],factory:r,exports:{},config:v,state:i,require:U(e),depMs:[],depMkv:{},depRs:[],hang:0})}function y(i){var a=t[i];if(a&&!B(i,o)){var s=a.deps,u=a.factory,c=0;"function"==typeof u&&(c=Math.min(u.length,s.length),!a.depsDec&&u.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"])([^'"]+)\1\s*\)/g,function(e,t,i){s.push(i)}));var b=[],l=[];z(s,function(e,t){var o,r,n=J(e),s=L(n.mod,i);s&&!d[s]?(n.res&&(r={id:e,mod:s,res:n.res},l.push(e),a.depRs.push(r)),(o=a.depMkv[s])||(o={id:n.mod,absId:s,hard:t<c},a.depMs.push(o),a.depMkv[s]=o,b.push(s))):o={absId:s},t<c&&a.factoryDeps.push(r||o)}),a.state=o,function(i){var o,a=t[i];a.invokeFactory=function(){if(o||a.state!==r)return;o=1;var t=1;if(z(a.factoryDeps,function(e){var i=e.absId;if(!d[i])return w(i),t=B(i,n)}),t){try{var s=a.factory,u="function"==typeof s?s.apply(e,_(a.factoryDeps,{require:a.require,exports:a.exports,module:a})):s;null!=u&&(a.exports=u),a.invokeFactory=null}catch(e){throw a.hang=1,e}P(i)}}}(i),A(b),l.length&&a.require(l,function(){z(a.depRs,function(e){e.absId||(e.absId=L(e.id,i))}),g()})}}function g(){for(var e in a)y(e),j(e),w(e)}function j(e){var i={};!function e(n){y(n);if(!B(n,o))return!1;if(B(n,r)||i[n])return!0;i[n]=1;var a=t[n];var s=!0;z(a.depMs,function(t){s=e(t.absId)&&s});s&&z(a.depRs,function(e){return s=!!e.absId});s&&!B(n,r)&&(a.state=r);i[n]=0;return s}(e)}function B(e,i){return t[e]&&t[e].state>=i}function w(e){var i=t[e];i&&i.invokeFactory&&i.invokeFactory()}function _(e,i){var o=[];return z(e,function(e,r){"object"==typeof e&&(e=e.absId),o[r]=i[e]||t[e].exports}),o}h.amd={};var k={};function P(e){t[e].state=n,delete a[e];for(var i=k[e]||[],o=i.length;o--;)i[o]();i.length=0,k[e]=null}function A(i,r,a){var s=0;function u(){if("function"==typeof r&&!s){var t=1;z(i,function(e){if(!d[e])return t=!!B(e,n)}),t&&(s=1,r.apply(e,_(i,d)))}}z(i,function(e){d[e]||B(e,n)||(!function(e,t){if(B(e,n))t();else{var i=k[e];i||(i=k[e]=[]),i.push(t)}}(e,u),(e.indexOf("!")>0?function(e,i){if(t[e])return;var r=I[e];if(r)return void W(r);var n=J(e),a={id:e,state:o};function s(t){a.exports=t||!0,P(e)}t[e]=a,s.fromText=function(e,t){new Function(t)(),x(e)},u=c(n.mod),d=i?t[i].require:c,u.load(n.res,d,s,v.call({id:e}));var u,d}:W)(e,a))}),u()}var S,C,O,I,q,T,E,N={};function W(i){if(!N[i]&&!t[i]){N[i]=1;var o=b.shim[i];o instanceof Array&&(b.shim[i]=o={deps:o});var r=o&&(o.deps||[]);r?(z(r,function(e){b.shim[e]||(b.shim[e]={})}),c(r,n)):n()}function n(){!function(e,t){var i=document.createElement("script");i.setAttribute("data-require-id",e),i.src=$(e+".js"),i.async=!0,i.readyState?i.onreadystatechange=o:i.onload=o;function o(){var e=i.readyState;(void 0===e||/^(loaded|complete)$/.test(e))&&(i.onload=i.onreadystatechange=null,i=null,t())}T=i,G?X.insertBefore(i,G):X.appendChild(i),T=null}(I[i]||i,a)}function a(){var t;o?("function"==typeof o.init&&(t=o.init.apply(e,_(r,d))),null==t&&o.exports&&(t=e,z(o.exports.split("."),function(e){return!!(t=t[e])})),h(i,r,function(){return t||{}})):x(i);g()}}function M(e,t){var i=function(e,t,i){var o=[];for(var r in e)if(e.hasOwnProperty(r)){var n={k:r,v:e[r]};o.push(n),t&&(n.reg="*"===r&&i?/^/:F(r))}return o}(e,1,t);return i.sort(H),i}function R(){b.baseUrl=b.baseUrl.replace(/\/$/,"")+"/",S=M(b.paths),z(O=M(b.map,1),function(e){e.v=M(e.v)});var e=O[O.length-1];e&&"*"===e.k&&z(O,function(t){t!=e&&(t.v=t.v.concat(e.v))});var t={},i=b.packages.length;for(C=[];i--;){var o,r=b.packages[i];switch(typeof r){case"string":o={name:r.split("/")[0],location:r};break;case"object":o={name:r.name,location:r.location,main:r.main}}t[o.name]||(t[o.name]=1,o.location=o.location||o.name,o.main=(o.main||"main").replace(/\.js$/i,""),o.reg=F(o.name),C.push(o))}function n(e){I[V(e)]=a}for(var a in C.sort(H),q=M(b.urlArgs,1),I={},b.bundles)z(b.bundles[a],n)}function D(e,t,i){z(t,function(t){if(t.reg.test(e))return i(t.v,t.k,t),!1})}function $(e,t){var i=/(\.[a-z0-9]+)$/i,o=/(\?[^#]*)$/,r="",n=e,a="";o.test(e)&&(a=RegExp.$1,e=e.replace(o,"")),i.test(e)&&(r=RegExp.$1,n=e.replace(i,"")),null!=t&&(n=L(n,t));var s,u=n;return D(n,S,function(e,t){u=u.replace(t,e),s=1}),s||D(n,C,function(e,t,i){u=u.replace(i.name,i.location)}),/^([a-z]{2,10}:\/)?\//i.test(u)||(u=b.baseUrl+u),u+=r+a,D(n,q,function(e){u+=(u.indexOf("?")>0?"&":"?")+e}),u}function U(e){var i={};function o(o,r){if("string"==typeof o){if(!i[o]){var a=L(o,e);if(w(a),!B(a,n))throw new Error('[MODULE_MISS]"'+a+'" is not exists!');i[o]=t[a].exports}return i[o]}if(o instanceof Array){var u=[],d=[];z(o,function(t,i){var o=J(t),r=L(o.mod,e),n=o.res,a=r;if(n){var c=r+"!"+n;0!==n.indexOf(".")&&I[c]?r=a=c:a=null}d[i]=a,s(r),u.push(r)}),A(u,function(){z(d,function(t,i){null==t&&s(t=d[i]=L(o[i],e))}),A(d,r,e),g()},e),g()}}return o.toUrl=function(t){return $(t,e||"")},o}function L(e,t){if(!e)return"";t=t||"";var i=J(e);if(!i)return e;var o=i.res,r=function(e,t){if(0!==e.indexOf("."))return e;for(var i=t.split("/").slice(0,-1).concat(e.split("/")),o=[],r=0;r<i.length;r++){var n=i[r];switch(n){case".":break;case"..":o.length&&".."!==o[o.length-1]?o.pop():o.push(n);break;default:n&&o.push(n)}}return o.join("/")}(i.mod,t);if(D(t,O,function(e){D(r,e,function(e,t){r=r.replace(t,e)})}),r=V(r),o){var a=B(r,n)&&c(r);o=a&&a.normalize?a.normalize(o,function(e){return L(e,t)}):L(o,t),r+="!"+o}return r}function V(e){return z(C,function(t){var i=t.name;if(i===e)return e=i+"/"+t.main,!1}),e}function J(e){var t=e.split("!");if(t[0])return{mod:t[0],res:t[1]}}function F(e){return new RegExp("^"+e+"(/|$)")}function z(e,t){if(e instanceof Array)for(var i=0,o=e.length;i<o&&!1!==t(e[i],i);i++);}function H(e,t){var i=e.k||e.name,o=t.k||t.name;return"*"===o?-1:"*"===i?1:o.length-i.length}l.config=function(e){if(e){for(var t in b){var i=e[t],o=b[t];if(i)if("urlArgs"===t&&"string"==typeof i)b.urlArgs["*"]=i;else if(o instanceof Array)o.push.apply(o,i);else if("object"==typeof o)for(var r in i)o[r]=i[r];else b[t]=i}R()}},R();var Q,X=document.getElementsByTagName("head")[0],G=document.getElementsByTagName("base")[0];G&&(X=G.parentNode),define||(define=h,require||(require=l),esl=l),function(){for(var e=document.getElementsByTagName("script"),t=e.length;t--;){var i=e[t];if(Q=i.getAttribute("data-main"))break}}(),Q&&setTimeout(function(){l([Q])},4)}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,r=function(e,t){b[i]=e,b[i+1]=t,2===(i+=2)&&(o?o(l):v())};var n="undefined"!=typeof window?window:void 0,a=n||{},s=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var e=setTimeout;return function(){return e(l,1)}}var b=new Array(1e3);function l(){for(var e=0;e<i;e+=2){(0,b[e])(b[e+1]),b[e]=void 0,b[e+1]=void 0}i=0}var p,f,x,h,v=void 0;function m(e,t){var i=arguments,o=this,n=new this.constructor(j);void 0===n[g]&&R(n);var a,s=o._state;return s?(a=i[s-1],r(function(){return W(s,n,a,o._result)})):q(o,n,e,t),n}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(j);return S(t,e),t}u?v=function(){return process.nextTick(l)}:s?(f=0,x=new s(l),h=document.createTextNode(""),x.observe(h,{characterData:!0}),v=function(){h.data=f=++f%2}):d?((p=new MessageChannel).port1.onmessage=l,v=function(){return p.port2.postMessage(0)}):v=c();var g=Math.random().toString(36).substring(16);function j(){}var B=void 0,w=1,_=2,k=new E;function P(e){try{return e.then}catch(e){return k.error=e,k}}function A(t,i,o){var n,a,s,u;i.constructor===t.constructor&&o===m&&i.constructor.resolve===y?(s=t,(u=i)._state===w?O(s,u._result):u._state===_?I(s,u._result):q(u,void 0,function(e){return S(s,e)},function(e){return I(s,e)})):o===k?(I(t,k.error),k.error=null):void 0===o?O(t,i):e(o)?(n=i,a=o,r(function(e){var t=!1,i=function(e,t,i,o){try{e.call(t,i,o)}catch(e){return e}}(a,n,function(i){t||(t=!0,n!==i?S(e,i):O(e,i))},function(i){t||(t=!0,I(e,i))},e._label);!t&&i&&(t=!0,I(e,i))},t)):O(t,i)}function S(e,t){var i;e===t?I(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(i=t)||"object"==typeof i&&null!==i?A(e,t,P(t)):O(e,t)}function C(e){e._onerror&&e._onerror(e._result),T(e)}function O(e,t){e._state===B&&(e._result=t,e._state=w,0!==e._subscribers.length&&r(T,e))}function I(e,t){e._state===B&&(e._state=_,e._result=t,r(C,e))}function q(e,t,i,o){var n=e._subscribers,a=n.length;e._onerror=null,n[a]=t,n[a+w]=i,n[a+_]=o,0===a&&e._state&&r(T,e)}function T(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var o=void 0,r=void 0,n=e._result,a=0;a<t.length;a+=3)o=t[a],r=t[a+i],o?W(i,o,r,n):r(n);e._subscribers.length=0}}function E(){this.error=null}var N=new E;function W(t,i,o,r){var n=e(o),a=void 0,s=void 0,u=void 0,d=void 0;if(n){if((a=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(o,r))===N?(d=!0,s=a.error,a.error=null):u=!0,i===a)return void I(i,new TypeError("A promises callback cannot return that same promise."))}else a=r,u=!0;i._state!==B||(n&&u?S(i,a):d?I(i,s):t===w?O(i,a):t===_&&I(i,a))}var M=0;function R(e){e[g]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,i){this._instanceConstructor=e,this.promise=new e(j),this.promise[g]||R(this.promise),t(i)?(this._input=i,this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&O(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}function $(e){this[g]=M++,this._result=this._state=void 0,this._subscribers=[],j!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $?function(e,t){try{t(function(t){S(e,t)},function(t){I(e,t)})}catch(t){I(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===B&&i<e;i++)this._eachEntry(t[i],i)},D.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,o=i.resolve;if(o===y){var r=P(e);if(r===m&&e._state!==B)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===$){var n=new i(j);A(n,e,r),this._willSettleAt(n,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(o(e),t)},D.prototype._settledAt=function(e,t,i){var o=this.promise;o._state===B&&(this._remaining--,e===_?I(o,i):this._result[t]=i),0===this._remaining&&O(o,this._result)},D.prototype._willSettleAt=function(e,t){var i=this;q(e,void 0,function(e){return i._settledAt(w,t,e)},function(e){return i._settledAt(_,t,e)})},$.all=function(e){return new D(this,e).promise},$.race=function(e){var i=this;return t(e)?new i(function(t,o){for(var r=e.length,n=0;n<r;n++)i.resolve(e[n]).then(t,o)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},$.resolve=y,$.reject=function(e){var t=new this(j);return I(t,e),t},$._setScheduler=function(e){o=e},$._setAsap=function(e){r=e},$._asap=r,$.prototype={constructor:$,then:m,catch:function(e){return this.then(null,e)}},$.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=$},$.Promise=$,$}),define("@baidu/Boxjs/utils/_bdboxWrapper",["require"],function(e){var t=(+new Date+"").slice(-3),i=navigator.userAgent,o={isBoxApp:function(e){return e=e||"",!1!==/ baiduboxapp\//i.test(i)&&!(i.indexOf(e+" baiduboxapp")<0)},isBox:/ baiduboxapp\//i.test(i)&&!/ (lite|info) baiduboxapp/.test(i),$isBox:function(){var e=(window.navigator||{}).userAgent;return/ baiduboxapp\//i.test(e)&&!/ (lite|info) baiduboxapp/.test(e)},isLiteBox:/ (lite|info) baiduboxapp\//i.test(i),$isLiteBox:function(){var e=(window.navigator||{}).userAgent;return/ (lite|info) baiduboxapp\//i.test(e)},isInfoBox:/ info baiduboxapp\//i.test(i),$isInfoBox:function(){var e=(window.navigator||{}).userAgent;return/ info baiduboxapp\//i.test(e)},isProBox:/ pro baiduboxapp\//i.test(i),$isProBox:function(){var e=(window.navigator||{}).userAgent;return/ pro baiduboxapp\//i.test(e)},isIOS:/(iPhone|iPod|iPad)/.test(i),$isIOS:function(){var e=window.navigator||{};return/(iPhone|iPod|iPad)/.test(e.userAgent)},isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(i),$isAndroid:function(){var e=window.navigator||{};return/(Android);?[\s\/]+([\d.]+)?/.test(e.userAgent)},getId:function(){return t++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(e){return o.isString(e)?document.getElementById(e):e},toArray:function(e){return o.emptyArr.slice.call(e)},$:function(e,t){return t=t&&1===t.nodeType?t:document,o.toArray(t.querySelectorAll(e))}};return"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(e){o["is"+e]=function(t){return i=t,r=e,o.cleanObj.toString.call(i).slice(8,-1)===r;var i,r}}),o.isBoolean=function(e){return!0===e||!1===e},o.isObject=function(e){return"object"==typeof e},o.isUndefined=function(e){return void 0===e},o.isWindow=function(e){return null!=e&&e==e.window},o.isPlainObject=function(e){return o.isObject(e)&&!o.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},o.cbWithoutCache=function(e,t){var i="_bdbox_js_"+o.getId();return window[i]=function(i){try{i=o.isString(i)?JSON.parse(i):i}catch(e){console.log("native callback params json parse error")}t&&o.isFunction(t)?e(t(i)):e(i)},i},o.sdkError={COMMAND_NOT_EXIST:{errCode:901,errMsg:"不存在此端能力"},NOT_IN_BDBOX:{errCode:902,errMsg:"手百外无法调用端能力"},COMMAND_FAIL:{errCode:903,errMsg:"端能力调用失败"},COMMAND_SUCCESS:{errCode:0,errMsg:"调用成功"}},o}),define("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,t){t+="";for(var i=(e+="").split("."),o=t.split("."),r=0,n=Math.max(i.length,o.length);r<n;r++){if(i[r]&&!o[r]&&parseInt(i[r])>0||parseInt(i[r])>parseInt(o[r]))return 1;if(o[r]&&!i[r]&&parseInt(o[r])>0||parseInt(i[r])<parseInt(o[r]))return-1}return 0}}),define("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=function(){var e=0;if(window.baiduboxapp_version)e=window.baiduboxapp_version;else if(t.$isBox()){var o,r=navigator.userAgent;(o=/([\d+.]+)_(?:diordna|enohpi)_/.exec(r))?(o=o[1].split("."),e=o.reverse().join(".")):(o=/baiduboxapp\/([\d+.]+)/.exec(r))&&(e=o[1])}return i=function(){return e},e};return i}),define("@baidu/Boxjs/thirdParty/bdbox/utils/getInfoVersion",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=function(){var e=0;if(t.$isInfoBox()){var o,r=navigator.userAgent;(o=/baiduboxapp\/([\d+.]+)/.exec(r))&&(e=o[1])}return i=function(){return e},e};return i}),define("@baidu/Boxjs/thirdParty/bdbox/utils/getLiteVersion",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=function(){var e=0;if(t.$isLiteBox()){var o,r=navigator.userAgent;(o=/baiduboxapp\/([\d+.]+)/.exec(r))&&(e=o[1])}return i=function(){return e},e};return i}),define("@baidu/Boxjs/thirdParty/bdbox/utils/getProVersion",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=function(){var e=0;if(t.$isProBox()){var o,r=navigator.userAgent;(o=/baiduboxapp\/([\d+.]+)/.exec(r))&&(e=o[1])}return i=function(){return e},e};return i}),define("@baidu/Boxjs/thirdParty/bdbox/utils/detect",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper");function i(e){var t={name:"unknown",version:0};this===window||this.os||(this.os=t),e=e||navigator.userAgent;var i={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var o in i)i.hasOwnProperty(o)&&(t["is"+o]=i[o].test(e));t.isUC=e.match(/UC/)||window.ucweb||window.ucbrowser;var r=e.match(/Windows Phone ([\d.]+)/);if(r)return t.win10=!0,t.version=r[1],t.name="win10",t;var n=e.match(/(Android);?\s+([\d.]+)?/);if(n)return t.android=!0,t.version=n[2],t.name="android",t;var a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!s?(t.ios=t.iphone=!0,t.version=u[2].replace(/_/g,"."),t.name="ios",t):a?(t.ios=t.ipad=!0,t.name="ios",t.version=a[2].replace(/_/g,"."),t):s?(t.name="ios",t.ios=t.ipod=!0,t.version=s[3]?s[3].replace(/_/g,"."):null,t):t}return i.apply(t),i}),define("@baidu/Boxjs/utils/platform",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/version_compare","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/utils/getInfoVersion","@baidu/Boxjs/thirdParty/bdbox/utils/getLiteVersion","@baidu/Boxjs/thirdParty/bdbox/utils/getProVersion","@baidu/Boxjs/thirdParty/bdbox/utils/detect"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare"),o=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion"),r=e("@baidu/Boxjs/thirdParty/bdbox/utils/getInfoVersion"),n=e("@baidu/Boxjs/thirdParty/bdbox/utils/getLiteVersion"),a=e("@baidu/Boxjs/thirdParty/bdbox/utils/getProVersion"),s=e("@baidu/Boxjs/thirdParty/bdbox/utils/detect").apply(t);return{versionCompare:i,isIOS:t.isIOS,isAndroid:t.isAndroid,os:t.isIOS?"ios":t.isAndroid?"android":"none",osVersion:s.version,isBox:t.isBoxApp(),boxType:t.isProBox?"pro":t.isInfoBox?"info":t.isLiteBox?"lite":"main",boxVersion:a()||r()||n()||o()}}),define("@baidu/Boxjs/thirdParty/bdbox/extend",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=t.isPlainObject,o=t.isArray,r=t.isBoolean,n=t.isUndefined;return function(e){var a,s=t.emptyArr.slice.call(arguments,1);return r(e)&&(a=e,e=s.shift()),s.forEach(function(t){!function e(t,r,a){for(var s in r)a&&(i(r[s])||o(r[s]))?(i(r[s])&&!i(t[s])&&(t[s]={}),o(r[s])&&!o(t[s])&&(t[s]=[]),e(t[s],r[s],a)):n(r[s])||(t[s]=r[s])}(e,t,a)}),e}}),define("@baidu/Boxjs/core/schemeSplicer",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/utils/platform","@baidu/Boxjs/thirdParty/bdbox/extend"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=(t.isIOS,t.isAndroid),o=t.isFunction,r=(t.getId,e("@baidu/Boxjs/utils/platform")),n=r.versionCompare,a=r.boxVersion;e("@baidu/Boxjs/thirdParty/bdbox/extend");return function(e,r,s,u){var d,c,b,l=[],p="",f="",x=!1!==u.hasCB,h=u.thunk,v=u.filter,m=e.split("/")[0],y={};if("{}"!==JSON.stringify(r)&&(y={params:encodeURIComponent(JSON.stringify(r))}),v){var g=v(r);r=g.data||y,g.action&&(e=m+"/"+g.module+"/"+g.action)}else r=y;for(var j in r)l.push(j+"="+r[j]);if(o(s)?f=t.cbWithoutCache(s,h):s&&(f=s),x&&l.push("callback="+f),p=window.BoxjsId?"baiduboxapp://"+e+"?"+l.join("&")+"&upgrade=0&oauthType="+window.BoxjsId:"baiduboxapp://"+e+"?"+l.join("&")+"&upgrade=0",console.log(decodeURIComponent(p)),i&&n(a,"9.0")>=0){var B=function(e){var t=window.Bdbox_android_jsbridge;{if(!t||!t.dispatch){var i=window.prompt("BdboxApp:"+JSON.stringify({obj:"Bdbox_android_jsbridge",func:"dispatch",args:[e]}));return i}t.dispatch(e)}}(p);if(B)try{(B=JSON.parse(B))&&"false"===B.result&&window[f](t.sdkError.COMMAND_FAIL)}catch(e){window[f](t.sdkError.COMMAND_FAIL)}}else d=p,c=document.createElement("iframe"),b=document.body||document.getElementsByTagName("body")[0],c.style.display="none",c.src=d,b.appendChild(c),setTimeout(function(){b.removeChild(c),c=null},0);return x||s(t.sdkError.COMMAND_SUCCESS),p}}),define("@baidu/Boxjs/core/versionMap",["require"],function(e){return{"public/oauth":{v:16,versionRange:["10.0"],filter:function(){return{module:"public/thirdPart",action:"config"}}}}}),define("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/version_compare","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/utils/getLiteVersion"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare"),o=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion");e("@baidu/Boxjs/thirdParty/bdbox/utils/getLiteVersion");function r(e,i,o){if(!t.$isBox()&&!t.$isLiteBox())return{error:201};if(!t.$isAndroid())return{error:202};var r={obj:e,func:i,args:o||[]};try{return window.prompt("BdboxApp:"+JSON.stringify(r))}catch(e){return{error:201}}}return function(e,n,a){if(a&&!t.isArray(a)&&(a=Array.prototype.slice.call(arguments,0).slice(2)),window[e]&&window[e][n])return{error:0,result:window[e][n].apply(window[e],a),__from:"js"};var s=o();if(i(s,4.8)>=0||t.$isLiteBox()){var u=r(e,n,a);return(u=u?JSON.parse(u):{}).__from="app",u}return"4.7.1"===s||"4.7"==s?{error:0,result:r(e,n,a),__from:"app4.7"}:{error:200}}}),define("@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,i,o){if(e&&(t.$isBox()||t.$isLiteBox())){var r=[];if(t.isFunction(i))o=i;else for(var n in i)r.push(n+"="+i[n]);if(t.isFunction(o)){var a="_bdbox_js_"+t.getId();window[a]=function(){o.apply(window,[].slice.call(arguments,0))},r.push("func="+a)}else o&&r.push("func="+o);r="baiduboxapp://"+e+"?"+r.join("&"),console.log(decodeURIComponent(r));var s=document.createElement("iframe");s.style.display="none",s.src=r;var u=document.body||document.getElementsByTagName("body")[0];u.appendChild(s),setTimeout(function(){u.removeChild(s),s=null},0)}}}),define("@baidu/Boxjs/core/BDPolyfill/filter",["require"],function(e){return{"feed/injectJS":{lite:{versionRange:["2.2.2"]},androidinfo:{versionRange:["1.0"]},android:{filter:function(){return{module:"Bdbox_android_feed",action:"injectJS"}},thunk:function(e){return{message:e.errmsg,status:"1"===e.errno?0:1}}},ios:{thunk:function(e){return{message:e.errmsg,status:"1"===e.errno?0:1}}}}}}),define("@baidu/Boxjs/core/BDPolyfill/parser",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/extend","@baidu/Boxjs/core/BDPolyfill/filter","@baidu/Boxjs/utils/platform"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/extend"),o=e("@baidu/Boxjs/core/BDPolyfill/filter"),r=e("@baidu/Boxjs/utils/platform");return function(e,n,a,s){var u=o[e+"/"+n],d={},c=r.boxType,b=r.os;"main"!==c&&(s="info"===c?[b,c].join(""):c);var l=u[s];if(l){var p=l.filter||u[b].filter;d={module:e,action:n,data:a,extData:{},hasCB:l.hasCB||u[b].hasCB};return p&&t.isFunction(p)&&i(d,p(e,n,a)),l.thunk&&t.isFunction(l.thunk)?d.thunk=l.thunk:u[b].thunk&&t.isFunction(u[b].thunk)&&(d.thunk=u[b].thunk),d}}}),define("@baidu/Boxjs/core/BDPolyfill/index",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/android/invokeApp","@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp","@baidu/Boxjs/core/BDPolyfill/parser","@baidu/Boxjs/thirdParty/bdbox/extend"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp"),o=e("@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp"),r=e("@baidu/Boxjs/core/BDPolyfill/parser"),n=e("@baidu/Boxjs/thirdParty/bdbox/extend");return function(e,a,s){var u=e.split("/"),d=u[0],c=u[1],b=t.isIOS?"ios":t.isAndroid?"android":"",l=r(d,c,a,b),p=l?l.thunk:void 0,f=t.cbWithoutCache(s,p);if(l){var x={};if(t.isObject(l.data)?t.isArray(l.data)?a=l.data||[]:n(a=a||{},l.data):a=l.data,"ios"!==b||l.noParams)x=a;else{l.action&&(x={action:l.action});var h=l.paramName||"params";a&&t.isObject(a)&&"{}"!==JSON.stringify(a)&&(x[h]=encodeURIComponent(JSON.stringify(a))),a&&t.isString(a)&&a.length&&(x[h]=encodeURIComponent(a)),l.next&&(x.next=l.next)}switch(t.isObject(l.extData)&&n(x,l.extData),b){case"ios":l.data&&l.data.shareSuccessCB&&(x.successcallback=l.data.shareSuccessCB),l.data&&l.data.shareErrorCB&&(x.errorcallback=l.data.shareErrorCB),!1===l.hasCB?o(l.module,x):o(l.module,x,f);break;case"android":var v=[];if(t.isString(x)&&x)v.push(x);else if(t.isObject(x)&&!t.isArray(x)&&"{}"!==JSON.stringify(x))v.push(JSON.stringify(x));else if(t.isArray(x)&&"[]"!==JSON.stringify(x))for(var m=0;m<x.length;m++)v.push(x[m]);if(!1!==l.hasCB&&!1!==l.async&&v.push(f),l.data&&l.data.shareSuccessCB&&v.push(l.data.shareSuccessCB),l.data&&l.data.shareErrorCB&&v.push(l.data.shareErrorCB),v.length<=0)var y=i(l.module,l.action);else y=i(l.module,l.action,v);!1===l.async&&window[f](y)}!1===l.hasCB&&window[f](JSON.stringify(t.sdkError.COMMAND_SUCCESS))}else window[f](JSON.stringify(t.sdkError.COMMAND_NOT_EXIST))}}),define("@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e){var t=e.split("?"),i=(t[1]?t[1]:t[0]).split("&"),o={};return i.forEach(function(e){if((e=e.split("="))[0].length>0){var t="";try{t=decodeURIComponent(e[1])||""}catch(e){}o[e[0]]=t}}),o}}),define("@baidu/Boxjs/utils/versionTools",["require","@baidu/Boxjs/core/BDPolyfill/filter","@baidu/Boxjs/core/versionMap","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/utils/platform","@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson"],function(e){var t=e("@baidu/Boxjs/core/BDPolyfill/filter"),i=e("@baidu/Boxjs/core/versionMap"),o=(e("@baidu/Boxjs/utils/_bdboxWrapper"),e("@baidu/Boxjs/utils/platform")),r=o.versionCompare,n=o.boxVersion,a={};return a.queryToJson=e("@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson"),a.platform=o.os,a.canInvokeNew=function(e){var t=i[e],s=t.versionRange,u=a.platform,d=o.boxType;if("main"!==d&&(s=t[(u="info"===d?[u,d].join(""):d)+"VersionRange"]),!s)return"main"===d;var c=s[0],b=s[1],l=r(n,c)>=0,p=!!b&&r(n,b)<=0;return!(!l||b&&!p||t.notSupport&&!(t.notSupport.indexOf(u)<0))},a.canInvokeOld=function(e){var i=a.platform,s=t[e],u=o.boxType;if(!s)return!1;"main"!==u&&(i="info"===u?[i,u].join(""):u);var d=s[i];if(!d)return!1;var c=d.versionRange,b=!1,l="",p="",f=!1,x=!1;return!c||c&&0===c.length?b=!0:(l=c[0],p=c[1],f=!!l&&r(n,l)>=0,x=!p||!!p&&r(n,p)<=0),!!(b||x&&f)},a.getWhoCanHandle=function(e){var t=i[e];return t&&(t=t.v),!t&&a.canInvokeOld(e)?"old":t&&a.canInvokeNew(e)?"new":t&&!a.canInvokeNew(e)&&a.canInvokeOld(e)?"old":void 0},a}),define("@baidu/Boxjs/thirdParty/log",["require"],function(e){var t=navigator.userAgent;function i(){var e="",i="";if(i=/([\d+.]+)_(?:diordna|enohpi)_/.exec(t))try{e=(i=(i=i[1].split(".")).reverse()).join(".")}catch(e){console.log("获取ios手百版本无匹配，原始字符为："+t)}else if(i=/baiduboxapp\/([\d]+([.][\d]+){1,3})/.exec(t))try{e=i[1]}catch(e){console.log("获取android手百版本无匹配，原始字符为："+t)}return e}return window.log=function(e,o){var r;!function(e){if(e.common&&e.cusData&&e.type){var t=e.common,i=e.cusData,o=function(e){return"event"===e.type?e.cusData.evt&&e.cusData.evt.match(/^c_\w*/)?0:1:{pv:0,jserr:0,custom_err:0,perf:1}[e.type]},r=window.location.protocol;"http:"!==r&&(r="https:");var n=r+"//m.baidu.com/tcbox?service=bdbox&action=pblog&",a={type:o(e),timestamp:+Date.now(),content:{boxVersion:t.boxVersion||"",boxV:t.boxV||"",platform:t.platform||"",network:(t.network+"").toLowerCase()||"other",hybridVersion:t.hybridVersion||"",page_id:t.page_id||"",cuid:t.cuid||"",logtype:{pv:1,jserr:2,event:3,custom_err:4,perf:5}[e.type],type:i.type||i.evt||i.flag||i.key||"",source:(i.js||"").split(/[^\?]\?{1}[^\?]/)[0],from:i.ln&&i.col?i.ln+"_"+i.col:"",msg:i.msg||""}};if(o(e))if("event"===e.type)a.content.duration=parseInt(i.msg)/1e3;else{var s=[],u={id:"",d:"",info:{}};for(var d in i)u.id=d,u.d=i[d],s.push(u),u={id:"",d:"",info:{}};a.content.part=s}var c={appid:1,dataid:2,cateid:26,actionid:{pv:1,jserr:1,event:2,custom_err:1,perf:2}[e.type],actiontype:"0",actiondata:a};n+="data="+encodeURIComponent(JSON.stringify(c)),setTimeout(function(){var e=document.createElement("img");e.onload=e.onerror=e.onabort=function(){e=null},e.src=n})}}({common:{hybridVersion:window.hybridVersion||"0",platform:(r="",/\biPhone\b|\biPad\b/.test(t)&&!/android/i.test(t)?r="ios":/android/i.test(t)?r="android":/windows/i.test(t)&&(r="windows"),r||"other"),boxV:function(){var e=i();if(null==e||"string"!=typeof e)return e;var t=/^\d+\.\d+/,o="";return t.test(e)&&(o=e.match(t)).length?o[0]:e}()||"0",boxVersion:i()||"0",page_id:"301_"+e,network:"",cuid:""},cusData:{evt:"c_"+o,msg:"端能力"+o},type:"event"})}}),define("@baidu/Boxjs/core/invoke",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/core/schemeSplicer","@baidu/Boxjs/core/versionMap","@baidu/Boxjs/core/BDPolyfill/index","@baidu/Boxjs/utils/versionTools","@baidu/Boxjs/thirdParty/log"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/core/schemeSplicer"),o=t.isObject,r=e("@baidu/Boxjs/core/versionMap"),n=e("@baidu/Boxjs/core/BDPolyfill/index"),a=e("@baidu/Boxjs/utils/versionTools"),s=e("@baidu/Boxjs/thirdParty/log");return function(e,u){return s(window.BoxjsId,e),new Promise(function(s,d){if(e)if(t.isBoxApp()){var c=a.getWhoCanHandle(e),b=function(e){var t="",i="",r={};o(e)?(t=e.errCode>=0?e.errCode:+e.status,i=e.errMsg||e.message,r=e.data||{}):(t=e,r=arguments[1]),0===t?s(r):d({errCode:t,errMsg:i})};if("old"===c)n(e,u,b);else if("new"===c){var l=r[e],p=l.v||"";e=["v"+p,e].join("/"),i(e,u||{},b,l)}else d(t.sdkError.COMMAND_NOT_EXIST)}else d(t.sdkError.NOT_IN_BDBOX);else d(t.sdkError.COMMAND_NOT_EXIST)})}}),define("@baidu/Boxjs/utils/inject",["require","@baidu/Boxjs/core/invoke","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/core/invoke"),i=e("@baidu/Boxjs/utils/_bdboxWrapper");return function(){var e={};return i.isIOS&&(e={files:["inject:boxjs/inject.js"],name:"injectjs"}),t("feed/injectJS",e)}}),define("@baidu/Boxjs/thirdParty/bdbox/each",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,t,i){if("object"==typeof e){var o,r,n=function(e){var t;t=null==e?String(e):(t=Object.prototype.toString.call(e).toLowerCase()).substring(8,t.length-1);return t}(e);if(i=i||e,"array"===n||"arguments"===n||"nodelist"===n){for(o=0,r=e.length;o<r;o++)if(!1===t.call(i,e[o],o,e))return}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(i,e[o],o,e))return}}}),define("@baidu/Boxjs/thirdParty/bdbox/client/o2o",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/android/invokeApp","@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp","@baidu/Boxjs/thirdParty/bdbox/each"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp"),o=e("@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp"),r=encodeURIComponent,n=e("@baidu/Boxjs/thirdParty/bdbox/each");return t.$isAndroid()?function(e,o){t.isObject(e)&&(o=e,e=e.url,delete o.url);var a=["S.bdsb_light_start_url="+r(e)];if(t.isObject(o)){var s=o.min_v;delete o.min_v;var u={color:"i.extra_actionbar_color_id",appid:"S.bdsb_wallet_appid"};n(o,function(e,t){"color"===t&&(e=4278190080|parseInt("0x"+e)),t=u[t]||t,a.push(t+"="+e)})}var d={intent:"intent:#Intent;"+(a=a.join(";"))+";end",min_v:s&&""!=s?s:"16783629",mode:"0"};o&&o.component&&""!=o.component||(d.class="com.baidu.searchbox.wallet.WalletServiceActivity"),i("Bdbox_android_utils","command",[JSON.stringify(d)])}:function(e,i){t.isObject(e)&&(i=e,e=e.url,delete i.url);var a={openurl:r(e),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2};if(t.isObject(i)){var s={color:"barcolor"};n(i,function(e,t){a[t=s[t]||t]=e})}a.appid&&(a.isla=1),o("easybrowse",a)}}),define("@baidu/Boxjs/thirdParty/bdbox/ios/open",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,i){if(e){var o=Date.now(),r=document.createElement("IFRAME");r.src=e,r.style.display="none",r.style.position="absolute",r.style.left="-2000px",r.style.top="-1000px",r.style.width="1px",r.style.height="1px",r.style.webkitTransition="all 1s",r.style.transition="all 1s",document.body.appendChild(r),setTimeout(function(){var e=function(){document.body.removeChild(r),Date.now()-o<1500?i(!0):i(!1)};r.addEventListener("webkitTransitionEnd",e,!1),r.addEventListener("transitionEnd",e,!1),r.style.left="-10px"},0)}else t.isFunction(i)&&i(!1)}}),define("@baidu/Boxjs/thirdParty/bdbox/client/toast",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/utils/version_compare","@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp","@baidu/Boxjs/thirdParty/bdbox/android/invokeApp"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion"),o=e("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare"),r=e("@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp"),n=e("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp");return function(e){if(t.$isIOS()){if(t.$isBox()&&o(i(),"6.0")<0)return;r("utils",{action:"toast",string:e,minver:"6.0.0.0"})}else{if(t.$isBox()&&o(i(),"4.6")<0)return;n("Bdbox_android_utils","toast",[e])}}}),define("@baidu/Boxjs/thirdParty/bdbox/client/login",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/utils/version_compare","@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp","@baidu/Boxjs/thirdParty/bdbox/android/invokeApp"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion"),o=e("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare"),r=e("@baidu/Boxjs/thirdParty/bdbox/ios/invokeApp"),n=e("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp");return function(e){var a,s={callback:"",url:location.href,tpl:"",login_type:"",third_login:"0"};for(a in s)e.hasOwnProperty(a)||(e[a]=s[a]);if(t.isBox&&o(i(),"5.5")>=0||t.$isLiteBox())t.$isIOS()?(e.func=e.callback,delete e.callback,e=JSON.stringify(e),r("account",{action:"logindialog",params:encodeURIComponent(e),minver:"5.5.0.0"})):n("Bdbox_android_account","loginDialog",[JSON.stringify(e),e.callback]);else{var u="http://wappass.baidu.com/?adapter=1&regLink=1";"sms"===e.login_type&&(u+="&sms=1"),e.subpro&&(u+="&subpro="+e.subpro),""!=e.tpl&&(u+="&tpl="+e.tpl),window.location.href=u+"&u="+encodeURIComponent(e.url)}}}),define("@baidu/Boxjs/thirdParty/bdbox/monitor/monitor",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=encodeURIComponent,o=function(e,t){e+=e.indexOf("?")<0?"?":"&",this.url=e,this.options=t};return o.prototype.report=function(e){e=e||"";var o=new Image(1,1),r=[];if(t.isObject(e)){for(var n in e)r.push(n+"="+i(String(e[n])));e=r.join("&")}var a="_box_mt"+t.getId();window[a]=o,o.onload=o.onerror=o.onabort=function(){o.onload=o.onerror=o.onabort=null,window[a]=o=null};var s=this.url+e;return t.isFunction(this.options.customHandler)&&(s=this.options.customHandler(s)),o.src=s+"&_rnd="+Math.floor(2147483648*Math.random()),this},o.prototype.main=function(e,i){return e&&t.isFunction(this[e])&&this[e].apply(this,t.toArray(i||[])),this},function(e,t){return new o(e,t)}}),define("@baidu/Boxjs/thirdParty/bdbox/clone",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){e("@baidu/Boxjs/utils/_bdboxWrapper");var t=Object.prototype.toString,i=function(e){var o;switch(t.call(e)){case"[object Object]":o={},function(e,t,i){var o=0;for(var r in e)if(e.hasOwnProperty(r))if(i)t[r]=e[r];else if(t(r,e[r],o++))break}(e,function(e,t){o[e]=i(t)});break;case"[object Array]":o=[],e.forEach(function(e){o.push(i(e))});break;default:o=e}return o};return i}),define("@baidu/Boxjs/thirdParty/bdbox/monitor/multilog",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/monitor/monitor","@baidu/Boxjs/thirdParty/bdbox/extend","@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/clone"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/monitor/monitor"),o=e("@baidu/Boxjs/thirdParty/bdbox/extend"),r=e("@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson"),n=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion"),a=e("@baidu/Boxjs/thirdParty/bdbox/clone"),s=r(location.search),u=navigator.userAgent,d=window.location.protocol;"http:"!==d&&(d="https:");var c=encodeURIComponent,b=function(e){var i=this;this.CUSTOM_ARG={service:"bdbox",action:"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{ref:s.ref||"",gmv:s.vmgdb||"",source:s.from||s.ref||"",boxVersion:n(),boxPlatform:u.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}},s.uid&&s.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach(function(e){s[e]&&(i.CUSTOM_ARG[e]=s[e])}),e&&(this.CUSTOM_ARG.data.cateid=e),this.tmpArg={},this.options={},this.options.customHandler=function(e){var o=[];if(i.tmpArg)for(var r in i.tmpArg)if(i.tmpArg.hasOwnProperty(r)){var n=i.tmpArg[r];t.isPlainObject(n)&&(n=JSON.stringify(n)),o.push(r+"="+c(n))}return o.length&&(e+=o.join("&")),e}};return(b.prototype=i(d+"//m.baidu.com/tcbox")).pv=function(e,t){this.tmpArg=a(this.CUSTOM_ARG);var i=this.tmpArg.data;i.actionid="1";var r={};return r.url=e||location.href,t&&(r.u=t),i.actiondata=o(i.actiondata,r),this.tmpArg.data=i,this.report()},b.prototype.event=function(e,i,r){if(!e)throw"monitor.tc.event need a evtName";if(t.isPlainObject(i)&&!r){var n={evtName:e};for(var s in i)n[s]=i[s]}else n={evtName:e,evtType:i||"",evtTag:r||""};this.tmpArg=a(this.CUSTOM_ARG);var u=this.tmpArg.data;return u.actionid="2",u.actiondata=o(u.actiondata,n),this.tmpArg.data=u,this.report()},function(e){return new b(e)}}),define("@baidu/Boxjs/thirdParty/bdbox/utils/jsonToQuery",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e){if(t.isString(e))return e;var i=[];for(var o in e)i.push(o+"="+e[o]);return i.join("&")}}),define("@baidu/Boxjs/thirdParty/bdbox/io/loadJS",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/jsonToQuery"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/thirdParty/bdbox/utils/jsonToQuery");t.emptyFn;return function(e,o,r){var n,a,s,u,d=document.createElement("script");t.isString(e)?(n=e,t.isFunction(o)&&(r=o,o=null)):(n=e.url,o=e.data,r=e.success,a=e.error||t.emptyFn,s=e.timeout),t.isObject(o)&&(o=i(o)),o&&(n+=(-1===n.indexOf("?")?"?":"&")+o),n=n.replace(/[&?]{1,2}/,"?"),/=\?/.test(n)&&(u="_box_jsonp"+t.getId(),n=n.replace(/=\?/,"="+u));var c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;s=s||2e4,d.type="text/javascript",d.src=n;var b,l=!0,p=function(){u&&delete window[u],b&&clearTimeout(b),d.onload=d.onreadystatechange=d.onerror=null,d=null},f=function(e,i){!d||d.readyState&&!/loaded|complete/.test(d.readyState)||(p(),l&&t.isFunction(r)&&r.apply(null,t.toArray(arguments)),l=!1)};u&&(window[u]=f),b=setTimeout(function(){p(),l&&a("timeout"),l=!1},s),d.onload=d.onreadystatechange=d.onerror=f,d.onerror=function(e){p(),l&&a(e),l=!1},c.appendChild(d)}}),define("@baidu/Boxjs/thirdParty/bdbox/subscribe/isub",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/version_compare","@baidu/Boxjs/thirdParty/bdbox/utils/getVersion","@baidu/Boxjs/thirdParty/bdbox/client/o2o","@baidu/Boxjs/thirdParty/bdbox/ios/open","@baidu/Boxjs/thirdParty/bdbox/android/invokeApp","@baidu/Boxjs/thirdParty/bdbox/client/toast","@baidu/Boxjs/thirdParty/bdbox/client/login","@baidu/Boxjs/thirdParty/bdbox/monitor/multilog","@baidu/Boxjs/thirdParty/bdbox/io/loadJS","@baidu/Boxjs/thirdParty/bdbox/utils/jsonToQuery","@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson"],function(e){var t,i,o=e("@baidu/Boxjs/utils/_bdboxWrapper"),r=e("@baidu/Boxjs/thirdParty/bdbox/utils/version_compare"),n=e("@baidu/Boxjs/thirdParty/bdbox/utils/getVersion"),a=e("@baidu/Boxjs/thirdParty/bdbox/client/o2o"),s=e("@baidu/Boxjs/thirdParty/bdbox/ios/open"),u=e("@baidu/Boxjs/thirdParty/bdbox/android/invokeApp"),d=e("@baidu/Boxjs/thirdParty/bdbox/client/toast"),c=e("@baidu/Boxjs/thirdParty/bdbox/client/login"),b=e("@baidu/Boxjs/thirdParty/bdbox/monitor/multilog"),l=e("@baidu/Boxjs/thirdParty/bdbox/io/loadJS"),p=e("@baidu/Boxjs/thirdParty/bdbox/utils/jsonToQuery"),f=e("@baidu/Boxjs/thirdParty/bdbox/utils/queryToJson"),x=b(18),h=function(e,a){this.id=e,this.toastBool=null,this.toastTransition=null,this.needUI=a&&a.needUI||!0,this.needUI&&this.createDom(),this.ops=a||{},this.ua=this.getUa(),this.isNew=o.isBox&&r(n(),"7.7.0")>=0,this.isNew90=o.isBox&&r(n(),"9.0.0")>=0,this.ops.sfrom=this.ua,!this.ops.noPv&&x.pv("__subscribeComponentsPv__",this.ops),location.port&&!a.onLine?(t="",i=""):(t="https://mbd.baidu.com",i="https://ext.baidu.com")},v=h.prototype;return v.createDom=function(){var e=this.id,t=document.createElement("div");t.className="subscribe-toast subscribe-toast-tips",t.id="toast-text-"+e;var i=document.createElement("div");i.className="subscribe-tips-context",i.innerText="关注失败",t.appendChild(i),this.$toastOne=t;var o=document.createElement("div");o.className="subscribe-toast subscribe-toast-click",o.id="toast-click-"+e;var r=document.createElement("div");if(r.className="subscribe-click-container",r.innerHTML='<div class="subscribe-click-context">关注成功，请到“<span class="subscribe-click-text2">首页-关注</span>”查看</div><div class="subscribe-click-button" ontouchstart="">去查看</div>',o.appendChild(r),this.$toastTwo=o,!document.getElementById("subcribe_style")){var n=document.createElement("style");n.id="subcribe_style",n.rel="stylesheet",n.type="text/css",n.innerHTML=".subscribe{box-sizing:border-box;-webkit-box-sizing:border-box}.subscribe-toast-tips{box-sizing:border-box;-webkit-box-sizing:border-box;position:fixed;top:50%;margin-top:-25px;height:50px;width:100%;text-align:center;z-index:200;transition:opacity .3s;-webkit-transition:opacity .3s;opacity:0}.subscribe-toast-tips.subscribe-active{opacity:1}.subscribe-tips-context{box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;width:auto;margin:0 auto;height:50px;min-width:100px;padding:0 17px;font:18px/50px Arial,Helvetica,sans-serif;color:#fff;background-color:rgba(0,0,0,0.7);border-radius:2px}@media screen and (max-width:320px){.subscribe-tips-context{font:16px/50px Arial,Helvetica,sans-serif}}.subscribe-toast-click{box-sizing:border-box;-webkit-box-sizing:border-box;position:fixed;bottom:36px;margin-top:-25px;height:50px;width:100%;z-index:200;text-align:center;transition:opacity .3s;-webkit-transition:opacity .3s;opacity:0}.subscribe-toast-click.subscribe-active{opacity:1}.subscribe-click-container{box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;width:92%;margin:0 auto;height:50px;min-width:100px;padding:0 17px;background-color:rgba(0,0,0,0.7);border-radius:2px;color:#fff}@media screen and (max-width:320px){.subscribe-click-container{padding:0 10px}}.subscribe-click-context{display:inline-block;vertical-align:top;float:left;box-sizing:border-box;-webkit-box-sizing:border-box;font:16px/50px Arial,Helvetica,sans-serif;width:76%;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media screen and (max-width:320px){.subscribe-click-context{font:14px/50px Arial,Helvetica,sans-serif}}.subscribe-click-button{float:right;box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block;vertical-align:top;margin-top:11px;width:20%;height:28px;border-radius:2px;font:14px/28px Arial,Helvetica,sans-serif;background-color:#3c76ff;text-align:center}@media screen and (max-width:320px){.subscribe-click-button{width:60px;font:12px/28px Arial,Helvetica,sans-serif}}.subscribe-click-button:active{background-color:#3970f2}",document.head.appendChild(n)}},v.relateAPI=function(e,t,r){if(!e||"object"!=typeof e)throw e.type&&e.sfrom&&e.third_id&&e.sort_index?t&&"function"!=typeof t?new Error("callback must be a function"):new Error("params error"):new Error("missing params");var n=o.isArray(e.third_id)?e.third_id.join(","):e.third_id,a=this.isNew,s={type:e.type,sfrom:e.sfrom,third_id:n,store:a?"uid_cuid":"uid"},u=i+"/api/subscribe/v1/relation/get?callback=?&"+p(s);l({url:u,success:function(e){t&&t(e)},error:function(e){r&&r(e)}})},v.toast=function(e){if(!this.isPlainObject(e)||this.isEmptyObject(e))throw new Error("params error,config is not a json");var t=e.type||null,i=e.callback||null,r=e.url||null,n=e.text||null,a=this,s=this.isNew;if(!t||"string"!=typeof t)throw new Error("params error");var u=document.body,c=u.querySelectorAll(".subscribe-toast");if(this.toastBool&&(clearTimeout(this.toastBool),clearTimeout(this.toastTransition)),c.length)for(var b=0;b<c.length;b++)c[b].parentNode.removeChild(c[b]),a.removeClass(c[b],"subscribe-active");switch(t){case"tips":if(x.event("subComponents","interface",{isaladin:this.ops.isaladin?"1":"0",ua:this.ua,pos:"tips",source:this.ops.type?this.ops.type:"others"}),o.isBox)return d(n);u.appendChild(a.$toastOne);var l=document.querySelector("#toast-text-"+a.id);this.toastTransition=setTimeout(function(){n&&(l.querySelector(".subscribe-tips-context").innerText=n),l.className="subscribe-toast subscribe-toast-tips subscribe-active"},10),this.toastBool=setTimeout(function(){try{a.$toastOne.parentNode.removeChild(a.$toastOne)}catch(e){return}},3e3);break;case"click":if(x.event("subComponents","interface",{isaladin:this.ops.isaladin?"1":"0",ua:this.ua,pos:"click",source:this.ops.type?this.ops.type:"others"}),o.isLiteBox)return this.toast({type:"tips",text:"关注成功，请到“首页-关注”查看"});if(this.isNew90)return this.toast({type:"tips",text:e.text?e.text:"关注成功"});var p=s?"关注":"我的关注",f=o.$isBox()?p:"首页-关注";a.$toastTwo.querySelector(".subscribe-click-text2").innerText=f,u.appendChild(a.$toastTwo),!s&&o.$isBox()?(a.$toastTwo.style.bottom="100px",a.$toastTwo.querySelector(".subscribe-click-button").style.display="none"):o.isLiteBox&&(a.$toastTwo.querySelector(".subscribe-click-button").style.display="none"),this.toastTransition=setTimeout(function(){a.addClass(a.$toastTwo,"subscribe-active")},10),this.toastBool=setTimeout(function(){try{a.$toastTwo.parentNode.removeChild(a.$toastTwo)}catch(e){return}},3e3);var h=document.querySelector("#toast-click-"+a.id+" .subscribe-click-button");h.onclick=null,setTimeout(function(){h.onclick=function(e){a.$toastTwo.parentNode.removeChild(a.$toastTwo),"function"==typeof i?i&&i():a.toLandingPage(r)}},10)}return this},v.toLandingPage=function(e,i){if(x.event("subComponents","interface",{isaladin:this.ops.isaladin?"1":"0",ua:this.ua,pos:"toLanding",from:i?"button":"toast",source:this.ops.type?this.ops.type:"others"}),e){var d=o.$isIOS()?{newbrowser:1}:{};o.$isBox()?a(e,d):window.location.href=e}else if(o.$isBox()&&r(n(),"7.6.0")>=0){if(o.isIOS)s((c={mode:2,url:"baiduboxapp://apppage?action=openPage&params=%7b%22pageid%22%3a%22mysubscription%22%2c%22url%22%3a%22https%3a%2f%2fmbd.baidu.com%2fwebpage%3faction%3dicard%26type%3dsubscribe%22%2c%22titile%22%3a%22%22%7d",minver:"7.6.0"}).url,function(e){e&&toast("网络出错，请稍候重新连接")});else if(o.$isAndroid()){var c={mode:"7",commands:[{mode:"6",intent:"intent:#Intent;S.rn_search_box_key=6;S.rn_bundle_id=box.rnplugin.myattention;S.rn_component_name=MyAttention;end",class:"com.baidu.searchbox.reactnative.RNSearchBoxMainActivity",min_v:"25167488"},{mode:"0",intent:"intent:#Intent;S.user_sub_center_load_url=/webpage?action=icard&type=subscribe;B.launch_center=true;B.user_sub_center_search_enable=false;B.create_menu_key=false;end",class:"com.baidu.searchbox.xsearch.UserSubscribeCenterActivity",dyna_url_key:"user_sub_center_load_url",http_style:!0,min_v:"24381184"}],min_v:"24381184"};u("Bdbox_android_utils","command",[JSON.stringify(c)])}}else{var b=t+"/webpage?action=icard&type=subscribe",l=f(window.location.href);l.channel&&"wise_home"===l.channel&&(b+="&channel=wise_home"),window.location.href=b}},v.subscribe=function(e,t,r,n){var a=this,s=this.isNew;if(!e||"object"!=typeof e)throw e.type&&e.op_type&&e.third_id?t&&"function"!=typeof t?new Error("callback must be a function"):new Error("params error"):new Error("missing params");x.event("subComponents","interface",{isaladin:this.ops.isaladin?"1":"0",ua:this.ua,type:e.op_type,pos:"subscribe",source:this.ops.type?this.ops.type:"others"});var u={},d=function(e){e.errno||(e={errno:500,errmsg:"request failed,uncaught error"}),r?r(e):1e4===!e.errno&&a.toast({type:"tips"}),u={}},c=i+"/api/subscribe/v1/relation/status?callback=?",b={type:e.type,op_type:e.op_type?e.op_type:"add",third_id:e.third_id,sfrom:e.sfrom?e.sfrom:"sbox",source:e.source?e.source:"mysub_h5",store:s||o.isLiteBox?"uid_cuid":"uid",sid:e.sid?e.sid:""};e.ext&&this.isPlainObject(e.ext)&&(b.ext=encodeURIComponent(JSON.stringify(e.ext)));var f=i+"/api/subscribe/v1/relation/receive?callback=?&"+p(b),h=function(i){0===i.errno?(x.event("subComponents","interface",{isaladin:a.ops.isaladin?"1":"0",ua:a.ua,status:"success",type:e.op_type,pos:"subscribe",source:a.ops.type?a.ops.type:"others"}),t&&t(i)):(u={errno:20020,errmsg:i.errmsg||""},d(u))};l({url:c,success:function(e){var t=e.errno,i=e.data.isLogin;0===t?i||o.$isBox()||o.isLiteBox?i||!o.$isBox()||s?l({url:f,success:h,error:d}):(u={errno:10010,errmsg:e.errmsg||""},d(u),a.toLogin()):n?n():(u={errno:1e4,errmsg:e.errmsg||""},d(u),window.location.href="http://wappass.baidu.com/passport/login?u="+encodeURIComponent(window.location.href)):(u={errno:10020,errmsg:e.errmsg||""},d(u))},error:d})},v.toLogin=function(){if(x.event("subComponents","interface",{isaladin:this.ops.isaladin?"1":"0",ua:this.ua,pos:"toLogin",source:this.ops.type?this.ops.type:"others"}),o.$isBox()){if(o.$isBox()){({target:"",params:{subpro:"webpage_card",tpl:"webpage_card"},callbackName:"",callback:function(e){e||location.reload(1)},doLogin:function(){this.callbackName&&delete window[this.callbackName],this.callbackName="_LOGIN_CALLBACK_"+o.getId(),window[this.callbackName]=this.callback,this.params.callback="window."+this.callbackName,c(this.params)}}).doLogin()}}else window.location.href="http://wappass.baidu.com/passport/login?u="+encodeURIComponent(window.location.href)},v.showDialog=function(e,t,i,o){return this.subscribe(t,i,o)},v.getUa=function(){var e=navigator.userAgent.toLowerCase(),t=null;switch(!0){case o.$isBox():t="bdbox";break;case/micromessenger/i.test(e):t="wechat";break;case/baidubrowser/i.test(e):t="baidubrowser";break;case/ucbrowser/i.test(e):t="ucbrowser";break;default:t="others"}return t},v.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},v.addClass=function(e,t){this.hasClass(e,t)||(e.className=this.trim(e.className)+" "+t)},v.removeClass=function(e,t){if(this.hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}},v.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},v.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},v.isPlainObject=function(e){return"object"==typeof e&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()&&!e.length},h}),define("@baidu/Boxjs/thirdParty/bdbox/utils/each",["require","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,i,o){if(t.isArray(e)){for(var r=0;r<e.length;r++)if(!1===i.call(o||e[r],e[r],r))return e}else for(var n in e)if(!1===i.call(o||e[n],e[n],n))return e;return e}}),define("@baidu/Boxjs/thirdParty/bdbox/event/delegate",["require","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/thirdParty/bdbox/utils/each"],function(e){var t,i=e("@baidu/Boxjs/utils/_bdboxWrapper"),o=e("@baidu/Boxjs/thirdParty/bdbox/utils/each"),r={mouseenter:"mouseover",mouseleave:"mouseout"},n={},a=function(){return!0},s=function(){return!1},u=/^([A-Z]|layer[XY]$)/,d={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};return{on:function(e,t,i,v){return y=i,g=v,j=t,B=function(i){return function(r){var n,c=function(e,t,i){for(;e&&!h(e,t);)e=e!==i&&!x(e)&&e.parentNode;return e}(r.target,t,e);if(c)return(n=function(e){var t,i={originalEvent:e};for(t in e)u.test(t)||void 0===e[t]||(i[t]=e[t]);return o(d,function(t,o){i[o]=function(){return this[t]=a,e[o].apply(e,arguments)},i[t]=s}),i}(r)).currentTarget=c,n.liveFired=e,i.apply(c,[n].concat([].slice.call(arguments,1)))}},_=c(m=e),k=n[_]||(n[_]=[]),void f(y,g,function(e,t){var i=b(e);i.fn=t,i.sel=j,i.e in r&&(t=function(e){var t,o,r=e.relatedTarget;if(!r||r!==this&&((t=this)===(o=r)||!t.contains(o)))return i.fn.apply(this,arguments)}),i.del=B&&B(t,e);var o=i.del||t;i.proxy=function(e){var t=o.apply(m,[e].concat(e.data));return!1===t&&(e.preventDefault(),e.stopPropagation()),t},i.i=k.length,k.push(i),"addEventListener"in m&&m.addEventListener(l(i.e),i.proxy,p(i,w))});var m,y,g,j,B,w,_,k},off:function(e,t,i,o){return a=i,s=o,u=t,x=c(r=e),void f(a||"",s,function(e,t){(function(e,t,i,o){if((t=b(t)).ns)var r=(a=t.ns,new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)"));var a;return(n[c(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!i||c(e.fn)===c(i))&&(!o||e.sel==o)})})(r,e,t,u).forEach(function(e){delete n[x][e.i],"removeEventListener"in r&&r.removeEventListener(l(e.e),e.proxy,p(e,d))})});var r,a,s,u,d,x}};function c(e){return e._bid||(e._bid=i.getId())}function b(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function l(e){return r[e]||e}function p(e,t){return e.del&&("focus"==e.e||"blur"==e.e)||!!t}function f(e,t,i){e.split(/\s/).forEach(function(e){i(e,t)})}function x(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function h(e,i){if(!e||1!==e.nodeType)return!1;var o=e.webkitMatchesSelector||e.matchesSelector;if(o)return o.call(e,i);var r,n=e.parentNode,a=!n;return a&&(n=tempParent).appendChild(e),r=~t(n,i).indexOf(e),a&&tempParent.removeChild(e),r}}),define("@baidu/Boxjs/components/app/install",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name,o=e.data;return i=["install",i].join("/"),t(i,o)}}),define("@baidu/Boxjs/components/app/update",["require"],function(e){}),define("@baidu/Boxjs/components/cache/delete",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e,i){var o=["storage","delete"].join("/");return t(o,{key:e,data:i})}}),define("@baidu/Boxjs/components/cache/get",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e,i){var o=["storage","get"].join("/");return t(o,{key:e,domain:i})}}),define("@baidu/Boxjs/components/cache/has",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=["storage","has"].join("/");return t(i,{key:e})}}),define("@baidu/Boxjs/components/cache/set",["require","@baidu/Boxjs/core/invoke","@baidu/Boxjs/utils/_bdboxWrapper"],function(e){var t=e("@baidu/Boxjs/core/invoke");e("@baidu/Boxjs/utils/_bdboxWrapper");return function(e,i,o){var r=["storage","set"].join("/");return t(r,{key:e,data:i,trustedDomains:o})}}),define("@baidu/Boxjs/components/command/run",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=["utils","command"].join("/");return t(i,e)}}),define("@baidu/Boxjs/components/data/get",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=[e.name.split("-")[0],"get"+e.name.split("-")[1].substring(0,1).toUpperCase()+e.name.split("-")[1].substring(1)].join("/"),o=e.data;return t(i,o)}}),define("@baidu/Boxjs/components/data/set",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=[e.name.split("-")[0],"set"+e.name.split("-")[1].substring(0,1).toUpperCase()+e.name.split("-")[1].substring(1)].join("/"),o=e.data;return t(i,o)}}),define("@baidu/Boxjs/components/data/toggle",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.type,o="toggle"+e.name.substring(0,1).toUpperCase()+e.name.substring(1),r=(parseInt(e.status,10)+1)%2,n=e.data||{};return n.status=r+"",o=[i,o].join("/"),t(o,n)}}),define("@baidu/Boxjs/components/device/cuid",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(){var e=["utils","getCUID"].join("/");return t(e,{})}}),define("@baidu/Boxjs/components/device/deviceInfo",["require"],function(e){}),define("@baidu/Boxjs/components/device/info",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i={};i.keys=e;var o=["utils","getDeviceInfo"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/device/location",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i={coor_type:e},o=["utils","location"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/device/speed",["require"],function(e){}),define("@baidu/Boxjs/components/event/fire",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e||{};i.name=e.name||"";var o=["datachannel","sendbroadcast"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/event/off",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.data||{};i.name=e.name||"";var o=["datachannel","unregister"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/event/on",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.data||{};i.name=e.name||"";var o=["datachannel","register"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/log/index",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke"),i={durationDisappear:"ubc/duration/disappear",durationAppear:"ubc/duration/appear",reliableLog:"utils/onReliableLog",performanceFlowEvent:"utils/onPerformanceFlowEvent",ubcReport:"utils/ubcReport",feedReport:"feed/report",channelStatistics:"channelStatistics/action"};return function(e){var o=i[e.name]||e.name,r=e.data;return t(o,r)}}),define("@baidu/Boxjs/components/media/audio",["require"],function(e){}),define("@baidu/Boxjs/components/media/gif",["require"],function(e){}),define("@baidu/Boxjs/components/media/tts",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=["tts",e.type].join("/"),o=e.data||{};return t(i,o)}}),define("@baidu/Boxjs/components/media/video",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=["video",e.type].join("/"),o=e.data||{};return t(i,o)}}),define("@baidu/Boxjs/components/net/delete",["require"],function(e){}),define("@baidu/Boxjs/components/net/download",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name.split("-"),o=i[0],r=i[1]||"",n=e.data;return r=[o,r].join("/"),t(r,n)}}),define("@baidu/Boxjs/components/net/prefetch",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.data,o=[e.name,"prefetch"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/net/request",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e,o=["net","request"].join("/");return t(o,i)}}),define("@baidu/Boxjs/components/net/upload",["require"],function(e){}),define("@baidu/Boxjs/components/ui/close",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name.split("-"),o="";if(i[1]){var r="close"+i[1].substring(0,1).toUpperCase()+i[1].substring(1);o=[i[0],r].join("/")}else o=[e.name,"close"].join("/");return t(o,{})}}),define("@baidu/Boxjs/components/ui/open",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.data,o=e.name.split("-"),r="";if(o[1]){var n="open"+o[1].substring(0,1).toUpperCase()+o[1].substring(1);r=[o[0],n].join("/")}else r=[e.name,"open"].join("/");return e.style&&(i.style=e.style),t(r,i)}}),define("@baidu/Boxjs/components/ui/update",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name;return i=[i,"update"].join("/"),t(i,{})}}),define("@baidu/Boxjs/components/view/close",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=[e.name,"close"].join("/");return t(i,{})}}),define("@baidu/Boxjs/components/view/open",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name,o=e.type||"",r=e.data,n="";return e.style&&(r.style=e.style),n=[i,"open"].join("/"),"easybrowse"!==i&&"browser"!==i||(r.newbrowser=e.newbrowser||e.data.newbrowser||"0",r.type=o),"hybrid"===o&&(n=[i,o].join("/")),t(n,r)}}),define("@baidu/Boxjs/components/view/update",["require"],function(e){}),define("@baidu/Boxjs/utils/getSchemeHead",["require","@baidu/Boxjs/core/versionMap"],function(e){var t=e("@baidu/Boxjs/core/versionMap");return function(e){var i=function(e){var t,i="",o=e.split("/");if(o.length<2)return"";switch(o[0]){case"cache":i=["storage",o[1]].join("/");break;case"data":i=function(e){if("get"===e[1]||"set"===e[1])var t=e[2]||"",i=t.split("-")[0],o=t.split("-")[1]&&t.split("-")[1].substring(0,1).toUpperCase(),r=t.split("-")[1]&&t.split("-")[1].substring(1),n=e[1]+o+r;else"toggle"===e[1]&&(i=e[3],n="toggle"+(o=e[2].substring(0,1).toUpperCase())+(r=e[2].substring(1)));return[i,n].join("/")}(o);break;case"log":i={durationDisappear:"ubc/duration/disappear",durationAppear:"ubc/duration/appear",channelStatistics:"channelStatistics/action"}[t=o[1]]||t;break;case"net":i=function(e){var t="";if("download"===e[1]){var i=(e[2]||"").split("-");t=[i[0],i[1]].join("/")}else"prefetch"===e[1]&&(t=[e[2],"prefetch"].join("/"));return t}(o);break;case"ui":i=function(e){var t="";if("close"===e[1]||"open"===e[1]){var i=e[2].split("-");if(i[1]){var o=i[1].substring(0,1).toUpperCase(),r=i[1].substring(1),n=e[1]+o+r;t=[i[0],n].join("/")}else t=[i[0],e[1]].join("/")}else"update"===e[1]&&(t=[e[2],"update"].join("/"));return t}(o);break;case"webView":i=function(e){var t="";if("close"===e[1])t=[e[2],e[1]].join("/");else if("open"===e[1]){var i=e[2],o=e[3];o&&"hybrid"===o?t=i+"/hybrid":o&&(t=i+"/open")}return t}(o)}var r=i.split("/");return r[0]&&r[1]?i:""}(e);if(i){var o=t[i];return!!o&&function(e,t){var i=t.filter,o=(e.split("/"),t.v);if(i){var r=i({});r.action&&(e="v"+o+"/"+r.module+"/"+r.action)}return e}(["v"+(o.v||""),i].join("/"),o)}return!1}}),define("@baidu/Boxjs/utils/oauthApi",["require","@baidu/Boxjs/core/invoke"],function(e){var t=e("@baidu/Boxjs/core/invoke");return function(e){var i=e.name.replace(/-/g,"/"),o=e.data;return t(i,o)}}),define("@baidu/Boxjs/utils/toOauth",["require","@baidu/Boxjs/utils/getSchemeHead","@baidu/Boxjs/utils/oauthApi"],function(e){var t=e("@baidu/Boxjs/utils/getSchemeHead"),i=e("@baidu/Boxjs/utils/oauthApi");return function(e){return new Promise(function(o,r){var n={},a=[];if(e.oauth.schemeList.length)for(var s=e.oauth.schemeList,u=0;u<s.length;u++)if(t(s[u])){var d=t(s[u]);a.push(d),n[d]={name:s[u]}}i({name:"public-oauth",data:{ext:e.oauth.ext||{},type:e.id||"",schemeList:a}}).then(function(e){var t=[];if(e&&e.schemeList)for(var i=0;i<e.schemeList.length;i++){var r=e.schemeList[i];"0"!==r.tag&&n[r.name]&&t.push(n[r.name].name)}o({errCode:0,errMsg:"success",data:{schemeList:t,expireTime:e.expireTime||""}})}).catch(function(e){r(e)})})}}),function(e,t){var i=[],o=[],r={cache:["delete","get","has","set"],data:["get","set","toggle"],device:["cuid","info","location","speed"],event:["fire","off","on"],log:["index"],media:["audio","video","tts"],net:["delete","download","request","upload","prefetch"],ui:["close","open","update"],view:["close","open","update"],app:["install","update"],command:["run"]},n=["./thirdParty/log","./utils/toOauth"];for(var a in r)for(var s=r[a],u=0;u<s.length;u++){var d=s[u],c=["./components",a,d].join("/");i.push(c),o.push({path:c,namespace:a,name:d})}var b=n.concat(i),l=function(e,t){return function(){var i,o,r,n=[].slice.call(arguments),a=(i=e,o=n.slice(t.length),r={},i.forEach(function(e,t){var i=e.namespace,n=e.name;r[i]=r[i]||{},"index"!==n?r[i][n]=o[t]:r[i]=o[t]}),r);return a.config=function(e){if(e.id){window.BoxjsId=a.id=e.id;var t=require("@baidu/Boxjs/thirdParty/log");t("caller",e.id)}if(e.oauth&&"object"==typeof e.oauth){var i=require("@baidu/Boxjs/utils/toOauth");i(e).then(function(t){e.success&&e.success(t)}).catch(function(t){e.success&&e.success(t)})}else e.success&&e.success({errCode:0,errMsg:"success"})},a}}(o,n);Object.defineProperty(l,"length",{value:b.length}),"function"==typeof define&&define.amd&&define("@baidu/Boxjs/index",b||[],l)}(),define("@baidu/Boxjs-h5API/index",["require","@baidu/Boxjs/utils/platform","@baidu/Boxjs/index","@baidu/Boxjs/thirdParty/bdbox/extend","@baidu/Boxjs/thirdParty/bdbox/subscribe/isub","@baidu/Boxjs/thirdParty/bdbox/event/delegate","@baidu/Boxjs/utils/inject"],function(e){var t,i,o={};o.platform=(t={},i=e("@baidu/Boxjs/utils/platform"),Object.keys(i).forEach(function(e){var o=i[e];t[e]=function(){return"versionCompare"===e?o(arguments[0],arguments[1]):o}}),t);var r=e("@baidu/Boxjs/index"),n=e("@baidu/Boxjs/thirdParty/bdbox/extend");return o.config=function(t){var i={};if(i.id=t.id,t.oauth&&(i.oauth=t.oauth),o.h5API={},t.h5API&&t.h5API.indexOf("subscribe")>-1){var a=e("@baidu/Boxjs/thirdParty/bdbox/subscribe/isub");o.h5API.subscribe=function(e){e.func(a)}}if(t.h5API&&t.h5API.indexOf("delegate")>-1&&(o.h5API.delegate=e("@baidu/Boxjs/thirdParty/bdbox/event/delegate")),t.h5API&&t.h5API.indexOf("broadcast")>-1&&!window.BoxJS){o.h5API.broadcast={};var s={injectComplete:function(e){o.h5API.broadcast=e.event.broadcast,u()}};window.BoxJS=s,e("@baidu/Boxjs/utils/inject")().then(function(e){}).catch(function(e){console.log("bind broadcast to Boxjs fail")})}else u();function u(){t.oauth?r.config({id:t.id,oauth:t.oauth,success:function(e){n(o,r),t.success&&t.success(e)}}):r.config({id:t.id,success:function(e){n(o,r),t.success&&t.success(e)}})}},o}),define("src/filter",["require","@baidu/Boxjs/utils/platform"],function(e){var t=e("@baidu/Boxjs/utils/platform");t.versionCompare,t.boxVersion;return{"utils/getFavorInfo":{lite:{versionRange:["2.2.2"]},androidinfo:{versionRange:["1.0"]},iosinfo:{versionRange:["1.1"]},ios:{versionRange:["8.1"],hasCB:!1,filter:function(e,t,i){return{module:"Common",action:"updateFavorInfo",extData:{minver:"8.1.0.0"}}}},android:{versionRange:["7.7"],hasCB:!1,filter:function(e,t,i){return{module:"Bdbox_android_utils",action:"updateCollectionStatus"}}}},"easybrowse/open":{lite:{versionRange:["2.2.2"]},androidinfo:{versionRange:["1.0"]},iosinfo:{versionRange:["1.1"]},ios:{noParams:!0,hasCB:!1,versionRange:["5.3"],filter:function(e,t,i){var o={openurl:encodeURIComponent(i.url),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2},r={};if("h5"===i.type&&delete i.type,each(i,function(e,t){"url"!==t&&"style"!==t&&(t=r[t]||t,o[t]=e)}),$.isObject(i.style)){if(r.color="barcolor",i.style.toolbaricons&&i.style.toolbaricons.tids)var n=JSON.stringify({toolids:i.style.toolbaricons.tids});i.toolbar=n,delete i.style,delete i.url,each(i.style,function(e,t){t=r[t]||t,o[t]=e})}return o.appid&&(o.isla=1),{module:"easybrowse",action:"",data:o,noParams:!0,extData:{minver:"5.3.0.0"}}}},android:{hasCB:!1,versionRange:["5.3"],filter:function(e,t,i){var o=["S.bdsb_light_start_url="+encodeURIComponent(i.url)];"comments"===i.type?o.push("component=com.baidu.searchbox/.home.feed.FeedCommentActivity"):"video"===i.type?o.push("component=com.baidu.searchbox/.home.feed.ShortVideoDetailActivity"):"tags"===i.type?o.push("component=com.baidu.searchbox/.xsearch.UserSubscribeCenterActivity"):"h5"===i.type&&o.push("component=com.baidu.searchbox/.lightbrowser.LightBrowserActivity");var r=i.min_v;delete i.min_v;var n=encodeURIComponent(JSON.stringify({toolids:i.style.toolbaricons.tids}));o.push("S.toolbaricons="+n),i.menumode&&o.push("S.menumode="+i.menumode);var a={intent:"intent:#Intent;"+(o=o.join(";"))+";end",min_v:r&&""!==r?r:"16783629",mode:"0"};return{module:"Bdbox_android_utils",action:"command",data:JSON.stringify(a)}}}}}}),define("src/versionMap",["require","@baidu/Boxjs/thirdParty/bdbox/extend","@baidu/Boxjs/utils/_bdboxWrapper","@baidu/Boxjs/utils/platform"],function(e){e("@baidu/Boxjs/thirdParty/bdbox/extend");var t=e("@baidu/Boxjs/utils/_bdboxWrapper"),i=e("@baidu/Boxjs/utils/platform");i.versionCompare,i.boxVersion;return{"easybrowse/open":{v:1,hasCB:!0,versionRange:["8.2"],iosinfoVersionRange:["1.1"],liteVersionRange:["2.2.2"],androidinfoVersionRange:["1.0"],filter:function(e){for(var i in"h5"===e.type&&delete e.type,e.url=encodeURIComponent(e.url),e.style=encodeURIComponent(JSON.stringify(e.style)),e)t.isObject(e[i])&&(e[i]=JSON.stringify(e[i]));return{data:e}}}}}),define("boxjs",["require","@baidu/Boxjs-h5API/index","@baidu/Boxjs/core/BDPolyfill/filter","@baidu/Boxjs/core/versionMap","@baidu/Boxjs/thirdParty/bdbox/extend","src/filter","src/versionMap"],function(e){var t=e("@baidu/Boxjs-h5API/index"),i=e("@baidu/Boxjs/core/BDPolyfill/filter"),o=e("@baidu/Boxjs/core/versionMap"),r=e("@baidu/Boxjs/thirdParty/bdbox/extend"),n=e("src/filter"),a=e("src/versionMap");return r(i,n),r(o,a),t.config({id:"xzhdoctor",success:function(){}}),t});export default {define,require,esl};